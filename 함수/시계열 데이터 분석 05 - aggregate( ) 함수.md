# 🕑 aggregate( )  

<br>  


 

월별 / 분기별 / 년도별 데이터가 있다면, 큰 주기에 맞춰서 각 데이터의 주기를 맞춰줘야 합니다.  



큰 주기의 데이터를 작은 주기로 넣으려면 없는 데이터를 만들어서 넣어야 하기에 가정과 추가적인 모델링이 필요한 경우가 있습니다. 하지만 이 경우, 데이터의 크기가 작아져 몇 가지 문제가 생길 수 있습니다.  



어쨌든, 각 데이터의 주기를 맞춰주어야 시계열 분석에 용이하고, 여러 데이터를 하나의 시간 축에 대해서 분석하는 것이 가능해지기 때문에, R에서는 이러한 기능을 수행하는 함수를 제공합니다.  


<br>  


 

 

🕑 `aggregate( ) 함수`  : 서로 다른 주기의 데이터에 대해 일련의 연산을 수행하여 주기를 맞춰줍니다.  

<br>  

 
```r
## 데이터 주기 파악

frequency(AirPassengers)
```  
```
>> 12
```  

<br>  

원래 주기가 12짜리 월별 데이터인 AirPassengers 에 aggregate 함수를 적용해보겠습니다.  

<br>  

 
```r
## 분기별 데이터로 변경
air_quarterly = aggregate(AirPassengers, nfrequency = 4, FUN = sum)

## 년도별 데이터로 변경
air_yearly = aggregate(AirPassengers, nfrequency = 1, FUN = sum)
```  

<br>  
 
```
## 분기별 데이터 확인
head(air_quarterly)
```  
```
>> 362 385 432 341 382 409
```  

<br>

```r
## 년도별 데이터 확인
head(air_yearly)
```  
```
>> 1520 1676 2042 2364 2700 2867
```  

<br>  

 

데이터의 주기를 바꾸는 함수이기 때문에, 주의해야 할 점이 몇 개 있습니다.

 

🕑 aggregate 함수를 사용할 때는 변수의 특징에 맞게 사용해야 합니다.

 

🕑 합계 혹은 평균의 연산 선정은 연도별 비교인지, 분기별 비교인지 원래 데이터 수집 목적에 맞게 사용해야 합니다.

 

🕑 전반적인 트렌드를 파악할 경우에는 yearly 주기의 데이터를 사용합니다.  

<br>  

***  

 

 


